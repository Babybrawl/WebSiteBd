<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
    <title>Document</title>
</head>
<body onload="setTimeout(start, 1000);">

    <h1 id="titre">TITRE</h1>
    <select id="serie"></select>
    <select id="saison"></select>
    <br>
    <br>
    <iframe width="765" height="435" src="https://example.com/iframeContent.html" scrolling="no" frameborder="0" allowfullscreen="" webkitallowfullscreen="" id="video"></iframe>

    <h3 id="desc">description</h3>

    <script src="../js/main.js"></script> <!-- Load JS -->
    <script>
        // Fonction pour masquer les pubs dans l'iframe
        function blockAds(iframeDocument) {
            var adSelectors = [
                '.ad', '.advertisement', '[id^="ad_"]', '[class^="ad-"]', 'iframe[src*="ad"]'
            ];

            adSelectors.forEach(function(selector) {
                var ads = iframeDocument.querySelectorAll(selector);
                ads.forEach(function(ad) {
                    ad.style.display = 'none';
                });
            });
        }

        // Attendre que l'iframe soit complètement chargé
        document.getElementById('video').onload = function() {
            var iframe = document.getElementById('video');
            try {
                var iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
                blockAds(iframeDocument);
            } catch (e) {
                console.error('Impossible d\'accéder au contenu de l\'iframe:', e);
            }
        };
    </script>
</body>
</html>
